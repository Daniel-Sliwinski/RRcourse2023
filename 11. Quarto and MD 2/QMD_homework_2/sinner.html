<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Daniel Śliwiński">
<meta name="dcterms.date" content="2023-06-10">

<title>The Sinner</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="sinner_files/libs/clipboard/clipboard.min.js"></script>
<script src="sinner_files/libs/quarto-html/quarto.js"></script>
<script src="sinner_files/libs/quarto-html/popper.min.js"></script>
<script src="sinner_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="sinner_files/libs/quarto-html/anchor.min.js"></script>
<link href="sinner_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="sinner_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="sinner_files/libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="sinner_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="sinner_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="sinner_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="sinner_files/libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">The Sinner</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Daniel Śliwiński </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 10, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>
<nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Contents</h2>
   
  <ul>
  <li><a href="#the-sinner" id="toc-the-sinner">The Sinner</a></li>
  <li><a href="#the-sinner-a-statistical-overview" id="toc-the-sinner-a-statistical-overview">The Sinner: A Statistical Overview</a></li>
  </ul>
</nav>
<hr>
<section id="the-sinner" class="level1">
<h1>The Sinner</h1>
<p><img src="sinner_files/sinner.jpg" class="img-fluid"></p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href="">Brief Description of the TV Show</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false" href="">Critics Review</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p><em>“The Sinner”</em> is an American police procedural anthology television series developed by <em>“Derek Simonds”</em> for USA Network. It is based on <em>“Petra Hammesfahr’s”</em> 1999 novel, which served as the basis for the first season. The series stars <em>“Bill Pullman”</em> as a police detective who investigates crimes committed by unlikely culprits and attempts to uncover their motivations. Only <em>“Pullman”</em> appears in every season, while the rest of the cast mostly changes for each season’s story.</p>
<p>The show was intended as an eight-part miniseries, but its success led to it being turned into an anthology series, which aired for four seasons from August 2, 2017, to December 1, 2021.</p>
<p>The first season of <em>“The Sinner”</em> received nominations for the <strong>Golden Globe Award</strong> for Best Miniseries or Television Film and Best Actress – Miniseries or Television Film for <em>“Jessica Biel”</em>. <em>“Biel”</em> was also nominated for a <strong>Primetime Emmy Award</strong> for Outstanding Lead Actress in a Limited Series or Movie.</p>
<p>The show captivates viewers with deep dive in to psyche of the main characters, posing an essential question who are we and what is our dark side?</p>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p><em>Stuart Heritage</em>:</p>
<blockquote class="blockquote">
<h4 id="what-is-it" class="anchored" data-anchor-id="the-sinner">What is it:</h4>
<p>Let’s call it a <em>whydunnit</em>.</p>
</blockquote>
<blockquote class="blockquote">
<h4 id="why-youll-love-it" class="anchored">Why you’ll love it:</h4>
<p>A woman – a normal, slightly dissatisfied woman – goes to the beach. She goes for a swim and, out of nowhere, is gripped by a strange sensation. She returns to the shore, hugs her son, eats a pear and then stabs a man to death.</p>
</blockquote>
<blockquote class="blockquote">
<p><strong>Why?</strong> Did she know the victim? Did his sexy seaside horseplay bring back memories of some hidden trauma? Was it her medication? Her bedroom wallpaper? Was it because – as I initially suspected – he was playing music on his phone in a crowded area? The woman herself doesn’t seem to know. <em>What’s going on?</em> This is the central question at the heart of <em>The Sinner</em>.</p>
</blockquote>
<blockquote class="blockquote">
<p>A sly ratings success in the US – it has been the most-watched new cable show this year – <em>The Sinner</em> is based on the Petra Hammesfahr novel of the same name, and takes the form of a gussied-up push and pull between the woman (played by Jessica Biel) and the detective tasked with figuring out this mess (Bill Pullman).</p>
</blockquote>
<blockquote class="blockquote">
<p>The problem with programmes that hinge on a gimmick as grabby as this is that the answers are often much less satisfying than the inciting incident. But the joy of <em>The Sinner</em> is getting to watch Biel do everything in her power to just get the ordeal over with. A more traditional show would turn the relationship between her and Pullman into a cat and mouse, but that isn’t really the case here. The mouse is splayed out on the floor begging to be eaten and the cat can’t understand why.</p>
</blockquote>
<blockquote class="blockquote">
<p>She instantly pleads guilty to avoid a trial. But a competency evaluation is ordered, so she explains her motivation in horrific detail. But that’s quickly revealed to be a lie, so the process must begin anew. Biel would rather spend her life rotting in prison than truly examine her actions, but every detail that floats to the surface – drug problems, a cartoonishly awful childhood, sexy flashbacks of undulating bodies – starts to make that impossible. Before you know it, these flashbacks have piled up on top of more flashbacks and the whole thing edges towards the precipice. It gets to the point where the faintest prod could derail the entire series, so the fact that it doesn’t is nothing short of a miracle.</p>
</blockquote>
<blockquote class="blockquote">
<p>Fortunately, there are answers. This is no <em>Lost</em>-style wheel-spinning exercise, and the denouement is just as satisfying and horrible as the conclusion to the first <em>Broadchurch</em>. If you find yourself drifting away during <em>The Sinner’s</em> midpoint, I can promise you it’s worth persevering with.</p>
</blockquote>
<blockquote class="blockquote">
<p>As bracingly vanity-free as Biel’s performance is, all blood and gut and scab, Pullman is the real secret weapon here. His detective is rumpled and kinky, like Columbo if old Columbo episodes were routinely interrupted by scenes of him getting pegged by a dominatrix. He’s horribly, horribly sad, and you sense that he has only seized upon this case because it’s the one part of his life that he can control. Not to give anything away, but the show ends on such a note of finality that the only way forward would be to shove Pullman into a new mystery next year. Based on this run, that would be no bad thing.</p>
</blockquote>
<p><a href="https://www.theguardian.com/tv-and-radio/2017/nov/09/the-sinner-review-the-psychological-whydunnit-thats-been-a-big-us-ratings-success">Source</a></p>
</div>
</div>
</div>
<hr>
</section>
<section id="the-sinner-a-statistical-overview" class="level1">
<h1>The Sinner: A Statistical Overview</h1>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true" href="">Viewership Analysis</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false" href="">Rotten Tomato ratings for each season:</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false" href="">Average viewership over the four seasons</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false" href="">Change in viewership from season to season</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<p>The <em>The Sinner</em> has had a dynamic viewership over its four seasons. The first season was met with a great reception, averaging <strong>1.8 million</strong> viewers per episode. This success led to the transformation of the show from an intended mini-series to a full-fledged multi-season series.</p>
<p>However, subsequent seasons saw a decline in viewership. The numbers fell to an average of <strong>1.13 million</strong> viewers per episode in the second season. The trend continued with the third season, which drew in an average of <strong>0.65 million</strong> viewers, and the fourth season, attracting an average of <strong>0.45 million</strong> viewers per episode.</p>
<p>While I found each season’s story incredibly captivating, it seems that not everyone shares my feelings towards the later seasons.</p>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Rotten Tomato Ratings for Each Season</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Season</th>
<th style="text-align: left;">Tomatometer</th>
<th style="text-align: left;">Audience_Score</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Season 1</td>
<td style="text-align: left;">91%</td>
<td style="text-align: left;">87%</td>
</tr>
<tr class="even">
<td style="text-align: left;">Season 2</td>
<td style="text-align: left;">97%</td>
<td style="text-align: left;">82%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Season 3</td>
<td style="text-align: left;">85%</td>
<td style="text-align: left;">46%</td>
</tr>
<tr class="even">
<td style="text-align: left;">Season 4</td>
<td style="text-align: left;">88%</td>
<td style="text-align: left;">77%</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>As the table shows, season 3 performed the worst, according to the audience score. However, critics rated season 2 slightly higher than the first season, as per the Tomatometer score.</p>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="sinner_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Average viewership over the four seasons</figcaption>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="sinner_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Change in viewership from season to season</figcaption>
</figure>
</div>
</div>
</div>
<p>Between the first and the second season, the viewership decreased by -0.67 million. The trend continued in the subsequent seasons, with a drop of -0.48 million viewers between the second and the third season, and -0.2 million viewers between the third and the fourth season. This consistent decrease in viewership may reflect various factors, such as changes in the series’ direction, competition with other shows, or shifts in audience preferences.</p>
</div>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>